<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBA 2K16 - Comparateur 3 Joueurs</title>
    <style>
        :root {
            --bg-color: #1a1a1a;
            --card-bg: #2d2d2d;
            --text-color: #e0e0e0;
            --accent: #f39c12; /* Orange */
            --secondary: #3498db; /* Bleu */
            --header-bg: #121212;
            --border-color: #444;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        header {
            background-color: var(--header-bg);
            width: 100%;
            padding: 15px 0;
            text-align: center;
            border-bottom: 3px solid var(--accent);
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
            margin-bottom: 20px;
        }

        h1 { margin: 0; font-size: 1.8rem; color: var(--accent); text-transform: uppercase; letter-spacing: 2px; }

        .container {
            width: 95%;
            max-width: 1400px;
            padding-bottom: 50px;
        }

        /* --- SELECTORS AREA (3 Columns) --- */
        .selectors-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .player-slot {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            position: relative;
        }

        .player-slot h3 {
            margin-top: 0;
            color: var(--secondary);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
            text-align: center;
        }

        .control-group { margin-bottom: 10px; }
        
        label { display: block; margin-bottom: 5px; font-size: 0.9rem; color: #aaa; }

        select {
            width: 100%;
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #555;
            background-color: #222;
            color: white;
            font-size: 0.95rem;
        }

        /* --- COMPARISON TABLE --- */
        .table-wrapper {
            overflow-x: auto;
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
        }

        th, td {
            padding: 10px 15px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            border-right: 1px solid var(--border-color);
        }

        th:last-child, td:last-child { border-right: none; }

        /* Table Headers */
        thead th {
            background-color: #222;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        /* Category Header (e.g. Shooting) */
        .category-row th {
            background-color: #3a3a3a;
            color: var(--accent);
            text-align: left;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
            padding-top: 20px;
            padding-bottom: 5px;
        }

        /* Attribute Name Column */
        td.attr-name {
            text-align: left;
            font-weight: bold;
            color: #ccc;
            background-color: #2a2a2a;
            width: 200px;
        }

        /* Player Columns */
        th.player-header {
            width: 20%;
            color: var(--secondary);
            font-size: 1.1rem;
        }

        /* Values coloring */
        .val-high { color: #2ecc71; font-weight: bold; }
        .val-med { color: #f1c40f; }
        .val-low { color: #e74c3c; }
        .val-empty { color: #555; }

        /* Highlight best value in row */
        .winner {
            background-color: rgba(46, 204, 113, 0.1); /* Light green bg */
            border: 1px solid #2ecc71;
        }

        @media (max-width: 768px) {
            .selectors-container { grid-template-columns: 1fr; }
            th.player-header { font-size: 0.9rem; }
            .container { width: 100%; }
        }

    </style>
</head>
<body>

<header>
    <h1>NBA 2K16 - Comparateur 3 Builds</h1>
</header>

<div class="container">
    
    <div class="selectors-container">
        <div class="player-slot" id="slot-1">
            <h3>Joueur 1</h3>
            <div class="control-group">
                <label>Poste</label>
                <select onchange="updateArchetypes(1)" id="pos-1"><option value="">-- Choisir --</option></select>
            </div>
            <div class="control-group">
                <label>Archétype</label>
                <select onchange="updateHeights(1)" id="arch-1" disabled><option value="">-- --</option></select>
            </div>
            <div class="control-group">
                <label>Taille</label>
                <select onchange="renderTable()" id="height-1" disabled><option value="">-- --</option></select>
            </div>
        </div>

        <div class="player-slot" id="slot-2">
            <h3>Joueur 2</h3>
            <div class="control-group">
                <label>Poste</label>
                <select onchange="updateArchetypes(2)" id="pos-2"><option value="">-- Choisir --</option></select>
            </div>
            <div class="control-group">
                <label>Archétype</label>
                <select onchange="updateHeights(2)" id="arch-2" disabled><option value="">-- --</option></select>
            </div>
            <div class="control-group">
                <label>Taille</label>
                <select onchange="renderTable()" id="height-2" disabled><option value="">-- --</option></select>
            </div>
        </div>

        <div class="player-slot" id="slot-3">
            <h3>Joueur 3</h3>
            <div class="control-group">
                <label>Poste</label>
                <select onchange="updateArchetypes(3)" id="pos-3"><option value="">-- Choisir --</option></select>
            </div>
            <div class="control-group">
                <label>Archétype</label>
                <select onchange="updateHeights(3)" id="arch-3" disabled><option value="">-- --</option></select>
            </div>
            <div class="control-group">
                <label>Taille</label>
                <select onchange="renderTable()" id="height-3" disabled><option value="">-- --</option></select>
            </div>
        </div>
    </div>

    <div class="table-wrapper">
        <table id="comparison-table">
            <thead>
                <tr>
                    <th>Attributs</th>
                    <th class="player-header" id="h-p1">Joueur 1</th>
                    <th class="player-header" id="h-p2">Joueur 2</th>
                    <th class="player-header" id="h-p3">Joueur 3</th>
                </tr>
            </thead>
            <tbody id="table-body">
                <tr><td colspan="4" style="padding: 30px; color: #666;">Sélectionnez au moins un joueur pour comparer.</td></tr>
            </tbody>
        </table>
    </div>

</div>

<script>
    // --- DATA ---
    const rawCsvData = `Pos.,Archetype,Height,Moving Shot Close,Standing Shot Close,Moving Shot Mid-Range,Standing Shot Mid-Range,Moving Shot Three,Standing Shot Three,Free Throw,Standing Layup,Driving Layup,Post Fadeaway,Post Hook,Post Control,Standing Dunk,Driving Dunk,Contact Dunk,Speed,Accel,Vertical,Strength,Stamina,Hustle,Ball Control,Passing Vision,Passing IQ,Passing Accuracy,Boxout,Offensive Rebound,Defensive Rebound,Lateral Quickness,Pass Perception,Block,Shot Contest,Steal,Defensive Consistency,On-Ball Defensive IQ,Pick and Roll Defensive IQ,Help Defensive IQ
PG,Balanced,5'7",80,80,86,86,84,84,90,85,85,60,40,50,25,80,80,94,94,94,65,94,94,94,94,94,94,65,65,65,94,94,50,94,94,94,94,94,94
PG,Balanced,5'8",80,80,86,86,84,84,90,85,85,61,41,52,29,80,80,93,93,94,67,94,94,93,94,94,94,66,66,66,93,94,52,94,93,94,94,94,94
PG,Balanced,5'9",80,80,85,85,83,83,90,85,85,62,42,53,33,81,81,92,92,93,68,94,94,92,94,94,94,67,67,67,92,94,53,94,93,94,94,94,94
PG,Balanced,5'10",80,80,85,85,83,83,90,85,85,63,43,55,38,81,81,91,91,93,70,94,94,91,94,94,94,68,68,68,91,94,55,94,92,94,94,94,94
PG,Balanced,5'11",80,80,84,84,82,82,90,85,85,63,43,57,42,82,82,89,89,93,72,94,94,89,94,94,94,68,68,68,89,94,57,94,91,94,94,94,94
PG,Balanced,6',80,80,84,84,82,82,90,85,85,64,44,58,46,82,82,88,88,92,73,94,94,88,94,94,94,69,69,69,88,94,58,94,90,94,94,94,94
PG,Balanced,6'1",80,80,83,83,81,81,90,85,85,65,45,60,50,83,83,87,87,92,75,94,94,87,94,94,94,70,70,70,87,94,60,94,90,94,94,94,94
PG,Balanced,6'2",80,80,83,83,81,81,90,85,85,66,46,62,54,83,83,86,86,92,77,94,94,86,94,94,94,71,71,71,86,94,62,94,89,94,94,94,94
PG,Balanced,6'3",80,80,82,82,80,80,90,85,85,67,47,63,58,83,83,85,85,91,78,94,94,85,94,94,94,72,72,72,85,94,63,94,88,94,94,94,94
PG,Balanced,6'4",80,80,82,82,80,80,90,85,85,68,48,65,63,84,84,84,84,91,80,94,94,84,94,94,94,73,73,73,84,94,65,94,87,94,94,94,94
PG,Balanced,6'5",80,80,81,81,79,79,90,85,85,68,48,67,67,84,84,82,82,91,82,94,94,82,94,94,94,73,73,73,82,94,67,94,87,94,94,94,94
PG,Balanced,6'6",80,80,81,81,79,79,90,85,85,69,49,68,71,85,85,81,81,90,83,94,94,81,94,94,94,74,74,74,81,94,68,94,86,94,94,94,94
PG,Balanced,6'7",80,80,80,80,78,78,90,85,85,70,50,70,75,85,85,80,80,90,85,94,94,80,94,94,94,75,75,75,80,94,70,94,85,94,94,94,94
PG,Outside,5'7",75,75,94,94,94,94,90,70,80,70,35,40,25,70,70,94,94,94,50,94,94,94,94,94,94,65,65,65,94,94,50,94,94,94,94,94,94
PG,Outside,5'8",75,75,93,93,93,93,90,71,80,70,36,42,29,70,70,93,93,94,52,94,94,93,94,94,94,66,66,66,93,94,52,94,93,94,94,94,94
PG,Outside,5'9",75,75,93,93,93,93,90,72,80,70,37,43,33,70,70,92,92,93,53,94,94,92,94,94,94,67,67,67,92,94,53,94,93,94,94,94,94
PG,Outside,5'10",75,75,92,92,92,92,90,73,80,70,38,45,38,70,70,91,91,93,55,94,94,91,94,94,94,68,68,68,91,94,55,94,92,94,94,94,94
PG,Outside,5'11",75,75,91,91,91,91,90,73,80,70,38,47,42,70,70,89,89,93,57,94,94,89,94,94,94,68,68,68,89,94,57,94,91,94,94,94,94
PG,Outside,6',75,75,90,90,90,90,90,74,80,70,39,48,46,70,70,88,88,92,58,94,94,88,94,94,94,69,69,69,88,94,58,94,90,94,94,94,94
PG,Outside,6'1",75,75,90,90,90,90,90,75,80,70,40,50,50,70,70,87,87,92,60,94,94,87,94,94,94,70,70,70,87,94,60,94,90,94,94,94,94
PG,Outside,6'2",75,75,89,89,89,89,90,76,80,70,41,52,54,70,70,86,86,92,62,94,94,86,94,94,94,71,71,71,86,94,62,94,89,94,94,94,94
PG,Outside,6'3",75,75,88,88,88,88,90,77,80,70,42,53,58,70,70,85,85,91,63,94,94,85,94,94,94,72,72,72,85,94,63,94,88,94,94,94,94
PG,Outside,6'4",75,75,87,87,87,87,90,78,80,70,43,55,63,70,70,84,84,91,65,94,94,84,94,94,94,73,73,73,84,94,65,94,87,94,94,94,94
PG,Outside,6'5",75,75,87,87,87,87,90,78,80,70,43,57,67,70,70,82,82,91,67,94,94,82,94,94,94,73,73,73,82,94,67,94,87,94,94,94,94
PG,Outside,6'6",75,75,86,86,86,86,90,79,80,70,44,58,71,70,70,81,81,90,68,94,94,81,94,94,94,74,74,74,81,94,68,94,86,94,94,94,94
PG,Outside,6'7",75,75,85,85,85,85,90,80,80,70,45,60,75,70,70,80,80,90,70,94,94,80,94,94,94,75,75,75,80,94,70,94,85,94,94,94,94
PG,Inside,5'7",94,94,78,78,75,75,90,90,94,60,45,65,25,90,90,94,94,94,75,94,94,94,94,94,94,65,65,65,94,94,50,94,94,94,94,94,94
PG,Inside,5'8",94,94,78,78,75,75,90,90,94,61,46,67,29,90,90,93,93,94,77,94,94,93,94,94,94,66,66,66,93,94,52,94,93,94,94,94,94
PG,Inside,5'9",94,94,78,78,75,75,90,90,93,62,47,68,33,91,91,92,92,93,78,94,94,92,94,94,94,67,67,67,92,94,53,94,93,94,94,94,94
PG,Inside,5'10",94,94,77,77,74,74,90,90,93,63,48,70,38,91,91,91,91,93,80,94,94,91,94,94,94,68,68,68,91,94,55,94,92,94,94,94,94
PG,Inside,5'11",94,94,77,77,74,74,90,90,93,63,48,72,42,91,91,89,89,93,81,94,94,89,94,94,94,68,68,68,89,94,57,94,91,94,94,94,94
PG,Inside,6',94,94,77,77,74,74,90,90,92,64,49,73,46,92,92,88,88,92,83,94,94,88,94,94,94,69,69,69,88,94,58,94,90,94,94,94,94
PG,Inside,6'1",94,94,77,77,74,74,90,90,92,65,50,75,50,92,92,87,87,92,85,94,94,87,94,94,94,70,70,70,87,94,60,94,90,94,94,94,94
PG,Inside,6'2",94,94,76,76,73,73,90,90,92,66,51,77,54,92,92,86,86,92,86,94,94,86,94,94,94,71,71,71,86,94,62,94,89,94,94,94,94
PG,Inside,6'3",94,94,76,76,73,73,90,90,91,67,52,78,58,93,93,85,85,91,88,94,94,85,94,94,94,72,72,72,85,94,63,94,88,94,94,94,94
PG,Inside,6'4",94,94,76,76,73,73,90,90,91,68,53,80,63,93,93,84,84,91,89,94,94,84,94,94,94,73,73,73,84,94,65,94,87,94,94,94,94
PG,Inside,6'5",94,94,76,76,73,73,90,90,91,68,53,82,67,93,93,82,82,91,91,94,94,82,94,94,94,73,73,73,82,94,67,94,87,94,94,94,94
PG,Inside,6'6",94,94,75,75,72,72,90,90,90,69,54,83,71,94,94,81,81,90,92,94,94,81,94,94,94,74,74,74,81,94,68,94,86,94,94,94,94
PG,Inside,6'7",94,94,75,75,72,72,90,90,90,70,55,85,75,94,94,80,80,90,94,94,94,80,94,94,94,75,75,75,80,94,70,94,85,94,94,94,94
SG,Balanced,5'10",80,80,86,86,84,84,90,85,85,65,55,55,25,80,80,92,92,94,70,94,94,85,90,90,90,70,70,70,92,84,70,94,94,94,94,94,94
SG,Balanced,5'11",80,80,85,85,83,83,90,85,85,66,56,57,30,81,81,90,90,93,72,94,94,84,90,90,90,71,71,71,90,85,71,94,93,94,94,94,94
SG,Balanced,6',80,80,85,85,83,83,90,85,85,66,57,59,35,82,82,89,89,92,73,94,94,82,90,90,90,72,72,72,89,86,71,94,92,94,94,94,94
SG,Balanced,6'1",80,80,84,84,82,82,90,85,85,67,58,61,40,83,83,87,87,91,75,94,94,81,90,90,90,73,73,73,87,87,72,94,91,94,94,94,94
SG,Balanced,6'2",80,80,84,84,82,82,90,85,85,67,59,63,45,84,84,85,85,90,76,94,94,79,90,90,90,74,74,74,85,88,72,94,90,94,94,94,94
SG,Balanced,6'3",80,80,83,83,81,81,90,85,85,68,60,65,50,85,85,84,84,90,78,94,94,78,90,90,90,75,75,75,84,89,73,94,90,94,94,94,94
SG,Balanced,6'4",80,80,82,82,80,80,90,85,85,68,61,67,55,86,86,82,82,89,79,94,94,76,90,90,90,76,76,76,82,90,73,94,89,94,94,94,94
SG,Balanced,6'5",80,80,82,82,80,80,90,85,85,69,62,69,60,87,87,80,80,88,81,94,94,75,90,90,90,77,77,77,80,91,74,94,88,94,94,94,94
SG,Balanced,6'6",80,80,81,81,79,79,90,85,85,69,63,71,65,88,88,78,78,87,82,94,94,73,90,90,90,78,78,78,78,92,74,94,87,94,94,94,94
SG,Balanced,6'7",80,80,81,81,79,79,90,85,85,70,64,73,70,89,89,77,77,86,84,94,94,72,90,90,90,79,79,79,77,93,75,94,86,94,94,94,94
SG,Balanced,6'8",80,80,80,80,78,78,90,85,85,70,65,75,75,90,90,75,75,85,85,94,94,70,90,90,90,80,80,80,75,94,75,94,85,94,94,94,94
SG,Outside,5'10",75,75,94,94,94,94,90,80,80,75,45,45,25,70,70,92,92,94,55,94,94,85,90,90,90,70,70,70,92,84,70,94,94,94,94,94,94
SG,Outside,5'11",75,75,93,93,93,93,90,80,80,76,46,47,29,71,71,90,90,93,57,94,94,84,90,90,90,71,71,71,90,85,71,94,93,94,94,94,94
SG,Outside,6',75,75,92,92,92,92,90,80,80,76,46,49,32,71,71,89,89,92,58,94,94,82,90,90,90,72,72,72,89,86,71,94,92,94,94,94,94
SG,Outside,6'1",75,75,91,91,91,91,90,80,80,77,47,51,36,72,72,87,87,91,60,94,94,81,90,90,90,73,73,73,87,87,72,94,91,94,94,94,94
SG,Outside,6'2",75,75,90,90,90,90,90,80,80,77,47,53,39,72,72,85,85,90,61,94,94,79,90,90,90,74,74,74,85,88,72,94,90,94,94,94,94
SG,Outside,6'3",75,75,90,90,90,90,90,80,80,78,48,55,43,73,73,84,84,90,63,94,94,78,90,90,90,75,75,75,84,89,73,94,90,94,94,94,94
SG,Outside,6'4",75,75,89,89,89,89,90,80,80,78,48,57,46,73,73,82,82,89,64,94,94,76,90,90,90,76,76,76,82,90,73,94,89,94,94,94,94
SG,Outside,6'5",75,75,88,88,88,88,90,80,80,79,49,59,50,74,74,80,80,88,66,94,94,75,90,90,90,77,77,77,80,91,74,94,88,94,94,94,94
SG,Outside,6'6",75,75,87,87,87,87,90,80,80,79,49,61,53,74,74,78,78,87,67,94,94,73,90,90,90,78,78,78,78,92,74,94,87,94,94,94,94
SG,Outside,6'7",75,75,86,86,86,86,90,80,80,80,50,63,57,75,75,77,77,86,69,94,94,72,90,90,90,79,79,79,77,93,75,94,86,94,94,94,94
SG,Outside,6'8",75,75,85,85,85,85,90,80,80,80,50,65,60,75,75,75,75,85,70,94,94,70,90,90,90,80,80,80,75,94,75,94,85,94,94,94,94
SG,Inside,5'10",94,94,78,78,75,75,90,90,94,75,65,65,25,85,85,92,92,94,80,94,94,85,90,90,90,70,70,70,92,84,70,94,94,94,94,94,94
SG,Inside,5'11",94,94,78,78,75,75,90,90,94,76,66,67,31,86,86,90,90,93,81,94,94,84,90,90,90,71,71,71,90,85,71,94,93,94,94,94,94
SG,Inside,6',94,94,77,77,74,74,90,90,93,76,67,69,37,87,87,89,89,92,83,94,94,82,90,90,90,72,72,72,89,86,71,94,92,94,94,94,94
SG,Inside,6'1",94,94,77,77,74,74,90,90,93,77,68,71,43,88,88,87,87,91,84,94,94,81,90,90,90,73,73,73,87,87,72,94,91,94,94,94,94
SG,Inside,6'2",94,94,77,77,74,74,90,90,92,77,69,73,49,89,89,85,85,90,86,94,94,79,90,90,90,74,74,74,85,88,72,94,90,94,94,94,94
SG,Inside,6'3",94,94,77,77,74,74,90,90,92,78,70,75,55,90,90,84,84,90,87,94,94,78,90,90,90,75,75,75,84,89,73,94,90,94,94,94,94
SG,Inside,6'4",94,94,76,76,73,73,90,90,92,78,71,77,61,90,90,82,82,89,88,94,94,76,90,90,90,76,76,76,82,90,73,94,89,94,94,94,94
SG,Inside,6'5",94,94,76,76,73,73,90,90,91,79,72,79,67,91,91,80,80,88,90,94,94,75,90,90,90,77,77,77,80,91,74,94,88,94,94,94,94
SG,Inside,6'6",94,94,76,76,73,73,90,90,91,79,73,81,73,92,92,78,78,87,91,94,94,73,90,90,90,78,78,78,78,92,74,94,87,94,94,94,94
SG,Inside,6'7",94,94,75,75,72,72,90,90,90,80,74,83,79,93,93,77,77,86,93,94,94,72,90,90,90,79,79,79,77,93,75,94,86,94,94,94,94
SG,Inside,6'8",94,94,75,75,72,72,90,90,90,80,75,85,85,94,94,75,75,85,94,94,94,70,90,90,90,80,80,80,75,94,75,94,85,94,94,94,94
SF,Balanced,6'3",80,80,91,91,76,76,90,85,80,80,65,75,85,85,85,82,82,94,80,94,94,80,90,90,90,80,80,80,82,94,75,94,90,94,94,94,94
SF,Balanced,6'4",80,80,89,89,76,76,90,85,79,80,66,76,85,84,84,80,80,91,81,94,94,77,90,90,90,81,81,81,80,94,76,94,89,94,94,94,94
SF,Balanced,6'5",80,80,87,87,76,76,90,85,79,80,66,76,85,84,84,78,78,89,81,94,94,74,90,90,90,81,81,81,78,94,78,94,89,94,94,94,94
SF,Balanced,6'6",80,80,85,85,76,76,90,85,78,80,67,77,85,83,83,76,76,86,82,94,94,71,90,90,90,82,82,82,76,94,79,94,88,94,94,94,94
SF,Balanced,6'7",80,80,83,83,75,75,90,85,77,80,68,78,85,82,82,74,74,83,83,94,94,69,90,90,90,83,83,83,74,94,81,94,87,94,94,94,94
SF,Balanced,6'8",80,80,81,81,75,75,90,85,76,80,69,79,85,81,81,72,72,80,84,94,94,66,90,90,90,84,84,84,72,94,82,94,86,94,94,94,94
SF,Balanced,6'9",80,80,79,79,75,75,90,85,76,80,69,79,85,81,81,70,70,78,84,94,94,63,90,90,90,84,84,84,70,94,84,94,86,94,94,94,94
SF,Balanced,6'10",80,80,77,77,75,75,90,85,75,80,70,80,85,80,80,68,68,75,85,94,94,60,90,90,90,85,85,85,68,94,85,94,85,94,94,94,94
SF,Outside,6'3",80,80,90,90,85,85,90,80,70,80,55,70,70,70,70,82,82,94,70,94,94,80,90,90,90,80,80,80,82,94,75,94,90,94,94,94,94
SF,Outside,6'4",80,80,89,89,85,85,90,80,69,80,56,71,70,70,70,80,80,91,71,94,94,77,90,90,90,81,81,81,80,94,76,94,89,94,94,94,94
SF,Outside,6'5",80,80,89,89,85,85,90,80,69,80,56,71,70,70,70,78,78,89,73,94,94,74,90,90,90,81,81,81,78,94,78,94,89,94,94,94,94
SF,Outside,6'6",80,80,88,88,85,85,90,80,68,80,57,72,70,70,70,76,76,86,74,94,94,71,90,90,90,82,82,82,76,94,79,94,88,94,94,94,94
SF,Outside,6'7",80,80,87,87,85,85,90,80,67,80,58,73,70,70,70,74,74,83,76,94,94,69,90,90,90,83,83,83,74,94,81,94,87,94,94,94,94
SF,Outside,6'8",80,80,86,86,85,85,90,80,66,80,59,74,70,70,70,72,72,80,77,94,94,66,90,90,90,84,84,84,72,94,82,94,86,94,94,94,94
SF,Outside,6'9",80,80,86,86,85,85,90,80,66,80,59,74,70,70,70,70,70,78,79,94,94,63,90,90,90,84,84,84,70,94,84,94,86,94,94,94,94
SF,Outside,6'10",80,80,85,85,85,85,90,80,65,80,60,75,70,70,70,68,68,75,80,94,94,60,90,90,90,85,85,85,68,94,85,94,85,94,94,94,94
SF,Inside,6'3",94,94,72,72,68,68,90,90,90,80,70,80,94,94,94,82,82,94,90,94,94,80,90,90,90,80,80,80,82,94,75,94,90,94,94,94,94
SF,Inside,6'4",94,94,72,72,68,68,90,90,89,80,71,81,94,94,94,80,80,91,91,94,94,77,89,89,89,81,81,81,80,94,76,94,89,94,94,94,94
SF,Inside,6'5",94,94,71,71,67,67,90,90,87,80,71,83,94,94,94,78,78,89,91,94,94,74,89,89,89,81,81,81,78,94,78,94,89,94,94,94,94
SF,Inside,6'6",94,94,71,71,67,67,90,90,86,80,72,84,94,94,94,76,76,86,92,94,94,71,88,88,88,82,82,82,76,94,79,94,88,94,94,94,94
SF,Inside,6'7",94,94,70,70,66,66,90,90,84,80,73,86,94,94,94,74,74,83,92,94,94,69,87,87,87,83,83,83,74,94,81,94,87,94,94,94,94
SF,Inside,6'8",94,94,70,70,66,66,90,90,83,80,74,87,94,94,94,72,72,80,93,94,94,66,86,86,86,84,84,84,72,94,82,94,86,94,94,94,94
SF,Inside,6'9",94,94,69,69,65,65,90,90,81,80,74,89,94,94,94,70,70,78,93,94,94,63,86,86,86,84,84,84,70,94,84,94,86,94,94,94,94
SF,Inside,6'10",94,94,69,69,65,65,90,90,80,80,75,90,94,94,94,68,68,75,94,94,94,60,85,85,85,85,85,85,68,94,85,94,85,94,94,94,94
PF,Balanced,6'5",85,85,78,80,69,69,90,85,95,90,80,85,85,85,85,75,75,80,85,94,94,70,80,80,80,94,94,94,75,94,94,94,85,94,90,94,94
PF,Balanced,6'6",85,85,77,79,69,69,90,85,91,90,81,85,85,85,85,73,73,78,85,94,94,67,80,80,80,94,94,94,73,94,94,94,84,94,90,94,94
PF,Balanced,6'7",85,85,76,79,69,69,90,85,88,90,81,85,85,85,85,71,71,76,85,94,94,64,80,80,80,94,94,94,71,94,94,94,84,94,90,94,94
PF,Balanced,6'8",85,85,75,78,69,69,90,85,84,90,82,85,85,85,85,69,69,74,85,94,94,61,80,80,80,94,94,94,69,94,94,94,83,94,90,94,94
PF,Balanced,6'9",85,85,75,77,68,68,90,85,81,90,83,85,85,85,85,66,66,71,85,94,94,59,80,80,80,94,94,94,66,94,94,94,82,94,90,94,94
PF,Balanced,6'10",85,85,74,76,68,68,90,85,77,90,84,85,85,85,85,64,64,69,85,94,94,56,80,80,80,94,94,94,64,94,94,94,81,94,90,94,94
PF,Balanced,6'11",85,85,73,76,68,68,90,85,74,90,84,85,85,85,85,62,62,67,85,94,94,53,80,80,80,94,94,94,62,94,94,94,81,94,90,94,94
PF,Balanced,7',85,85,72,75,68,68,90,85,70,90,85,85,85,85,85,60,60,65,85,94,94,50,80,80,80,94,94,94,60,94,94,94,80,94,90,94,94
PF,Outside,6'5",80,80,85,90,75,75,90,85,70,90,70,80,75,70,70,75,75,80,80,94,94,70,80,80,80,94,94,94,85,94,94,94,85,94,90,94,94
PF,Outside,6'6",80,80,84,89,75,75,90,85,69,90,71,80,76,70,70,73,73,78,80,94,94,67,80,80,80,94,94,94,81,94,94,94,84,94,90,94,94
PF,Outside,6'7",80,80,84,89,75,75,90,85,69,90,71,80,78,70,70,71,71,76,80,94,94,64,80,80,80,94,94,94,78,94,94,94,84,94,90,94,94
PF,Outside,6'8",80,80,83,88,75,75,90,85,68,90,72,80,79,70,70,69,69,74,80,94,94,61,80,80,80,94,94,94,74,94,94,94,83,94,90,94,94
PF,Outside,6'9",80,80,82,87,75,75,90,85,67,90,73,80,81,70,70,66,66,71,80,94,94,59,80,80,80,94,94,94,71,94,94,94,82,94,90,94,94
PF,Outside,6'10",80,80,81,86,75,75,90,85,66,90,74,80,82,70,70,64,64,69,80,94,94,56,80,80,80,94,94,94,67,94,94,94,81,94,90,94,94
PF,Outside,6'11",80,80,81,86,75,75,90,85,66,90,74,80,84,70,70,62,62,67,80,94,94,53,80,80,80,94,94,94,64,94,94,94,81,94,90,94,94
PF,Outside,7',80,80,80,85,75,75,90,85,65,90,75,80,85,70,70,60,60,65,80,94,94,50,80,80,80,94,94,94,60,94,94,94,80,94,90,94,94
PF,Inside,6'5",94,94,70,70,63,63,85,90,80,90,85,94,94,94,94,75,75,80,94,94,94,70,80,80,80,94,94,94,85,94,94,94,85,94,90,94,94
PF,Inside,6'6",94,94,69,69,63,63,85,90,79,90,86,94,94,94,94,73,73,78,94,94,94,67,80,80,80,94,94,94,81,94,94,94,84,94,90,94,94
PF,Inside,6'7",94,94,69,69,62,62,85,90,79,90,86,94,94,94,94,71,71,76,94,94,94,64,80,80,80,94,94,94,78,94,94,94,84,94,90,94,94
PF,Inside,6'8",94,94,68,68,62,62,85,90,78,90,87,94,94,94,94,69,69,74,94,94,94,61,80,80,80,94,94,94,74,94,94,94,83,94,90,94,94
PF,Inside,6'9",94,94,67,67,61,61,85,90,77,90,88,94,94,94,94,66,66,71,94,94,94,59,80,80,80,94,94,94,71,94,94,94,82,94,90,94,94
PF,Inside,6'10",94,94,66,66,61,61,85,90,76,90,89,94,94,94,94,64,64,69,94,94,94,56,80,80,80,94,94,94,67,94,94,94,81,94,90,94,94
PF,Inside,6'11",94,94,66,66,60,60,85,90,76,90,89,94,94,94,94,62,62,67,94,94,94,53,80,80,80,94,94,94,64,94,94,94,81,94,90,94,94
PF,Inside,7',94,94,65,65,60,60,85,90,75,90,90,94,94,94,94,60,60,65,94,94,94,50,80,80,80,94,94,94,60,94,94,94,80,94,90,94,94
C,Balanced,6'8",85,85,75,78,68,68,90,85,70,90,85,85,88,85,85,70,70,75,80,94,94,65,75,75,75,94,94,94,70,94,94,94,75,94,90,94,94
C,Balanced,6'9",85,85,74,77,68,68,90,85,69,90,85,85,88,85,85,68,68,72,81,94,94,63,75,75,75,94,94,94,68,94,94,94,74,94,90,94,94
C,Balanced,6'10",85,85,74,76,67,67,90,85,69,90,85,85,88,85,85,66,66,69,81,94,94,61,75,75,75,94,94,94,66,94,94,94,74,94,90,94,94
C,Balanced,6'11",85,85,73,75,67,67,90,85,68,90,85,85,88,85,85,64,64,66,82,94,94,59,75,75,75,94,94,94,64,94,94,94,73,94,90,94,94
C,Balanced,7',85,85,72,75,66,66,90,85,67,90,85,85,88,85,85,61,61,64,83,94,94,56,75,75,75,94,94,94,61,94,94,94,72,94,90,94,94
C,Balanced,7'1",85,85,71,74,66,66,90,85,66,90,85,85,88,85,85,59,59,61,84,94,94,54,75,75,75,94,94,94,59,94,94,94,71,94,90,94,94
C,Balanced,7'2",85,85,71,73,65,65,90,85,66,90,85,85,88,85,85,57,57,58,84,94,94,52,75,75,75,94,94,94,57,94,94,94,71,94,90,94,94
C,Balanced,7'3",85,85,70,72,65,65,90,85,65,90,85,85,88,85,85,55,55,55,85,94,94,50,75,75,75,94,94,94,55,94,94,94,70,94,90,94,94
C,Outside,6'8",80,80,85,90,75,75,90,85,65,90,80,80,80,70,70,70,70,75,80,94,94,65,75,75,75,94,94,94,70,94,94,94,75,94,90,94,94
C,Outside,6'9",80,80,84,89,75,75,90,85,64,90,80,80,80,70,70,68,68,72,79,94,94,63,75,75,75,94,94,94,68,94,94,94,74,94,90,94,94
C,Outside,6'10",80,80,84,89,75,75,90,85,64,90,80,80,80,70,70,66,66,69,77,94,94,61,75,75,75,94,94,94,66,94,94,94,74,94,90,94,94
C,Outside,6'11",80,80,83,88,75,75,90,85,63,90,80,80,80,70,70,64,64,66,76,94,94,59,75,75,75,94,94,94,64,94,94,94,73,94,90,94,94
C,Outside,7',80,80,82,87,75,75,90,85,62,90,80,80,80,70,70,61,61,64,74,94,94,56,75,75,75,94,94,94,61,94,94,94,72,94,90,94,94
C,Outside,7'1",80,80,81,86,75,75,90,85,61,90,80,80,80,70,70,59,59,61,73,94,94,54,75,75,75,94,94,94,59,94,94,94,71,94,90,94,94
C,Outside,7'2",80,80,81,86,75,75,90,85,61,90,80,80,80,70,70,57,57,58,71,94,94,52,75,75,75,94,94,94,57,94,94,94,71,94,90,94,94
C,Outside,7'3",80,80,80,85,75,75,90,85,60,90,80,80,80,70,70,55,55,55,70,94,94,50,75,75,75,94,94,94,55,94,94,94,70,94,90,94,94
C,Inside,6'8",94,94,65,65,60,60,85,90,75,90,90,94,94,94,94,70,70,75,94,94,94,65,75,75,75,94,94,94,70,94,94,94,75,94,90,94,94
C,Inside,6'9",94,94,64,64,59,59,85,90,74,90,90,94,94,94,94,68,68,72,94,94,94,63,75,75,75,94,94,94,68,94,94,94,74,94,90,94,94
C,Inside,6'10",94,94,64,64,59,59,85,90,74,90,90,94,94,94,94,66,66,69,94,94,94,61,75,75,75,94,94,94,66,94,94,94,74,94,90,94,94
C,Inside,6'11",94,94,63,63,58,58,85,90,73,90,90,94,94,94,94,64,64,66,94,94,94,59,75,75,75,94,94,94,64,94,94,94,73,94,90,94,94
C,Inside,7',94,94,62,62,57,57,85,90,72,90,90,94,94,94,94,61,61,64,94,94,94,56,75,75,75,94,94,94,61,94,94,94,72,94,90,94,94
C,Inside,7'1",94,94,61,61,56,56,85,90,71,90,90,94,94,94,94,59,59,61,94,94,94,54,75,75,75,94,94,94,59,94,94,94,71,94,90,94,94
C,Inside,7'2",94,94,61,61,56,56,85,90,71,90,90,94,94,94,94,57,57,58,94,94,94,52,75,75,75,94,94,94,57,94,94,94,71,94,90,94,94
C,Inside,7'3",94,94,60,60,55,55,85,90,70,90,90,94,94,94,94,55,55,55,94,94,94,50,75,75,75,94,94,94,55,94,94,94,70,94,90,94,94`;

    const structure = {
        "Shooting": ["Moving Shot Close", "Standing Shot Close", "Moving Shot Mid-Range", "Standing Shot Mid-Range", "Moving Shot Three", "Standing Shot Three", "Free Throw"],
        "Inside Scoring": ["Standing Layup", "Driving Layup", "Post Fadeaway", "Post Hook", "Post Control", "Standing Dunk", "Driving Dunk", "Contact Dunk"],
        "Athleticism": ["Speed", "Accel", "Vertical", "Strength", "Stamina", "Hustle"],
        "Playmaker": ["Ball Control", "Passing Vision", "Passing IQ", "Passing Accuracy"],
        "Rebounder": ["Boxout", "Offensive Rebound", "Defensive Rebound"],
        "Defense": ["Lateral Quickness", "Pass Perception", "Block", "Shot Contest", "Steal", "Defensive Consistency", "On-Ball Defensive IQ", "Pick and Roll Defensive IQ", "Help Defensive IQ"]
    };

    let playersData = [];

    // --- LOGIC ---

    function parseCSV() {
        const rows = rawCsvData.trim().split('\n');
        const headers = rows[0].split(',');
        
        for (let i = 1; i < rows.length; i++) {
            const cols = rows[i].split(',');
            if (cols.length < headers.length) continue;

            const player = {
                pos: cols[0],
                archetype: cols[1],
                height: cols[2],
                stats: {}
            };

            for (let j = 3; j < cols.length; j++) {
                player.stats[headers[j]] = parseInt(cols[j]);
            }
            playersData.push(player);
        }
    }

    // Initialize Selectors
    function initSelectors() {
        parseCSV();
        const positions = [...new Set(playersData.map(p => p.pos))];
        
        for(let i=1; i<=3; i++) {
            const sel = document.getElementById(`pos-${i}`);
            positions.forEach(pos => {
                const opt = document.createElement('option');
                opt.value = pos;
                opt.textContent = pos;
                sel.appendChild(opt);
            });
        }
    }

    function updateArchetypes(slotId) {
        const posSel = document.getElementById(`pos-${slotId}`);
        const archSel = document.getElementById(`arch-${slotId}`);
        const heightSel = document.getElementById(`height-${slotId}`);
        
        archSel.innerHTML = '<option value="">-- --</option>';
        heightSel.innerHTML = '<option value="">-- --</option>';
        heightSel.disabled = true;

        if (!posSel.value) {
            archSel.disabled = true;
            renderTable();
            return;
        }

        const archetypes = [...new Set(playersData.filter(p => p.pos === posSel.value).map(p => p.archetype))];
        archetypes.forEach(arch => {
            const opt = document.createElement('option');
            opt.value = arch;
            opt.textContent = arch;
            archSel.appendChild(opt);
        });
        archSel.disabled = false;
        renderTable();
    }

    function updateHeights(slotId) {
        const posSel = document.getElementById(`pos-${slotId}`);
        const archSel = document.getElementById(`arch-${slotId}`);
        const heightSel = document.getElementById(`height-${slotId}`);

        heightSel.innerHTML = '<option value="">-- --</option>';

        if (!archSel.value) {
            heightSel.disabled = true;
            renderTable();
            return;
        }

        const heights = [...new Set(playersData
            .filter(p => p.pos === posSel.value && p.archetype === archSel.value)
            .map(p => p.height))];
        
        heights.forEach(h => {
            const opt = document.createElement('option');
            opt.value = h;
            opt.textContent = h;
            heightSel.appendChild(opt);
        });
        heightSel.disabled = false;
        renderTable();
    }

    function getPlayer(slotId) {
        const pos = document.getElementById(`pos-${slotId}`).value;
        const arch = document.getElementById(`arch-${slotId}`).value;
        const height = document.getElementById(`height-${slotId}`).value;

        if (!pos || !arch || !height) return null;
        return playersData.find(p => p.pos === pos && p.archetype === arch && p.height === height);
    }

    function getColorClass(val) {
        if (val >= 85) return 'val-high';
        if (val >= 70) return 'val-med';
        return 'val-low';
    }

    function renderTable() {
        const p1 = getPlayer(1);
        const p2 = getPlayer(2);
        const p3 = getPlayer(3);

        // Update Headers
        document.getElementById('h-p1').textContent = p1 ? `${p1.pos} ${p1.archetype} ${p1.height}` : 'Joueur 1';
        document.getElementById('h-p2').textContent = p2 ? `${p2.pos} ${p2.archetype} ${p2.height}` : 'Joueur 2';
        document.getElementById('h-p3').textContent = p3 ? `${p3.pos} ${p3.archetype} ${p3.height}` : 'Joueur 3';

        const tbody = document.getElementById('table-body');
        let html = '';

        if (!p1 && !p2 && !p3) {
            tbody.innerHTML = '<tr><td colspan="4" style="padding: 30px; color: #666; text-align: center;">Sélectionnez au moins un joueur pour comparer.</td></tr>';
            return;
        }

        for (const [category, attributes] of Object.entries(structure)) {
            // Category Header
            html += `<tr class="category-row"><th colspan="4">${category}</th></tr>`;

            attributes.forEach(attr => {
                const v1 = p1 ? p1.stats[attr] : null;
                const v2 = p2 ? p2.stats[attr] : null;
                const v3 = p3 ? p3.stats[attr] : null;

                // Determine max value for highlighting
                const vals = [v1, v2, v3].filter(v => v !== null);
                const max = vals.length > 0 ? Math.max(...vals) : -1;

                html += `<tr>`;
                html += `<td class="attr-name">${attr}</td>`;
                
                // Cell 1
                html += `<td class="${v1 === max ? 'winner' : ''}">`;
                html += v1 ? `<span class="${getColorClass(v1)}">${v1}</span>` : '<span class="val-empty">-</span>';
                html += `</td>`;

                // Cell 2
                html += `<td class="${v2 === max ? 'winner' : ''}">`;
                html += v2 ? `<span class="${getColorClass(v2)}">${v2}</span>` : '<span class="val-empty">-</span>';
                html += `</td>`;

                // Cell 3
                html += `<td class="${v3 === max ? 'winner' : ''}">`;
                html += v3 ? `<span class="${getColorClass(v3)}">${v3}</span>` : '<span class="val-empty">-</span>';
                html += `</td>`;

                html += `</tr>`;
            });
        }

        tbody.innerHTML = html;
    }

    // Start
    initSelectors();

</script>

</body>
</html>
